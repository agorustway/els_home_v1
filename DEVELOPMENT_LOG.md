# 🛠️ ELS 프로젝트 개발 로그 (DEVELOPMENT LOG)

최근 업데이트 및 수정 내역을 기록합니다.

---

## 📅 2026-02-20: 봇 서비스 안정화 및 UI/UX 대규모 개선

### 1. 이트랜스 봇(els_bot.py) 로그인 및 메뉴 진입 로직 강화
- **방해물 자동 돌파**: 로그인 직후 나타나는 '비밀번호 변경 안내', '개인정보 수정', 'IP 사용 통제' 등 각종 안내 팝업을 자동으로 탐지하고 **'X'** 또는 **'다음에 하기'** 버튼을 찾아 클릭하는 로직 추가.
- **메뉴 진입 필살기**: 메뉴 버튼 클릭이 실패할 경우를 대비하여 직접 컨테이너 조회 페이지 URL로 점프하는 기능 추가.
- **성공 판정 보강**: 메뉴 버튼 클릭 여부와 상관없이 화면에 '컨테이너 번호' 입력 창이 나타나면 즉시 진입 성공으로 판정하도록 개선.

### 2. 데이터 추출 및 영속성 기능 개선
- **100건 조회 완벽 지원**: 조회 시 자동으로 '100개씩 보기'를 선택하며, 대기 시간을 상향(6초)하여 대량 데이터도 유실 없이 추출.
- **백엔드 파싱 확장**: 조회된 결과 리스트 추출 범위를 기존 20개에서 최대 200개까지 확장.
- **데이터 자동 복구**: 조회 완료 시 결과를 서버 측(`last_search_result.json`)에 저장. 사용자가 페이지를 새로고침하거나 다른 페이지를 다녀와도 마지막 결과가 즉시 화면에 복구됨.

### 3. 사용자 인터페이스(UI/UX) 및 안전장치 강화
- **계정 오류 전용 배너**: 계정 정보(ID/PW) 불일치로 로그인 실패 시, 화면 상단에 **"이트랜스 계정 정보 변경이 있었는지 우선 확인하세요."** 라는 빨간색 경고 문구를 표시.
- **모바일 법령 안내 UX**: 기존의 답답한 모달 팝업 대신, 모바일에서는 별도의 전용 페이지를 새 탭으로 열어 법령 전문을 쾌적하게 읽을 수 있도록 개선.
- **NAS 최적화 설정**: 안정 버전 기준으로 타임아웃(로그인 90초 / 조회 120초) 및 브라우저 간 부팅 간격(20초)을 재조정하여 NAS CPU 부하 최소화.
- **엑셀 2시트 구조 복원**: 시트1(최신현황: No=1만) + 시트2(전체이력) 분리, 제목행 옅은파랑+틀고정+자동필터, 반입 셀 파랑/수입 셀 붉은색 서식, 컬럼 너비 자동조절.
- **NAS 도커 병렬처리 정비**: `max_drivers` 환경변수 지원(기본 2개), headless 모드 환경변수(`ELS_SHOW_BROWSER`) 지원.
- **이트랜스 계정 공유화**: 사용자별 개별 저장 → 전체 공유 방식으로 변경. 누구든 저장하면 모든 로그인 사용자가 동일한 이트랜스 ID/PW를 사용.

---

## 📅 이전 기록 요약
- **2026-02-19**: 실시간 컨테이너 이력 조회 스트리밍 및 저장 기능 구현.
- **2026-02-13**: 사다리 게임 모바일 레이아웃 및 UI 레이어 버그 수정.
- **2026-02-07**: 안전운임 주소 검색 키보드 네비게이션 및 Vercel 배포 안정화.
