# 📖 개발 이력 (DEV LOG)
#
# ╔══════════════════════════════════════════════════════════════════╗
# ║  이 파일은 프로젝트의 "장기 기억(Long-term Memory)"이다.        ║
# ║  모든 개발 이력을 시간순으로 기록한다.                          ║
# ║                                                                ║
# ║  📏 규칙:                                                      ║
# ║  - 최신 항목이 맨 위                                           ║
# ║  - 최근 5건은 상세하게, 그 이전은 1줄 요약                     ║
# ║  - 새 작업 완료 시 여기에 추가                                  ║
# ║                                                                ║
# ║  🔗 통합 출처:                                                  ║
# ║  - /DEVELOPMENT_LOG.md (루트)                                   ║
# ║  - /web/DEVELOPMENT_LOG.md                                      ║
# ║  - /ELS_FIX_REPORT.md                                          ║
# ╚══════════════════════════════════════════════════════════════════╝
#
# 마지막 업데이트: 2026-02-23

---

## 📅 2026-02-23: v1.0.0 코드 클린업 — 데드코드 제거 및 정리

### 핵심 성과
- **app.py**: 미사용 함수 `_parse_grid_text()` 삭제, `_stream_run()` 데드코드(도달 불가 fallback) 제거, 중복 import 정리
- **container-history**: 프로덕션 [DEBUG] 로그 출력 제거
- **package.json**: 버전 `0.1.0` → `1.0.0`
- **gitignore 강화**: `build.log`, `container_list.xlsx`, `last_search_result.json` 추가
- **정리**: `web/build.log`(44KB) 삭제, `elsbot/build/` 빈 폴더 삭제

### 변경 파일
- `docker/els-backend/app.py` — 53줄 감소 (497→444줄)
- `web/app/employees/container-history/page.js` — DEBUG 로그 삭제
- `web/package.json` — v1.0.0
- `.gitignore` — 런타임 산출물 추가

---

## 📅 2026-02-23: 페르소나 확정 + 한글/UTF-8 정책 + 테스트 격리 정책

### 핵심 성과
- **AI 페르소나 확정**: 오빠(42세) + 까칠한 여동생(32세) 관계 설정. 인성 풀림 방지 + 일관된 톤 유지.
- **의사소통 7:3 정책**: 오빠가 주도하되, AI도 "아닌 건 아니다"라고 말할 수 있음.
- **한글/UTF-8 정책 강화**: `.gitattributes`에 UTF-8 강제, `git config` 인코딩 설정, `commit_msg.txt` 방식 필수화.
- **테스트 격리 정책**: `.tmp_test/`에서만 수행, 완료 후 삭제. 미해결 이슈는 `.tmp_issues/`에 보관.

### 변경 파일
- `docs/RULES.md` — 전면 재작성 (제0~11조)
- `docs/MISSION_CONTROL.md` — 페르소나/트리/정책 반영
- `.gitattributes` — UTF-8 강제 인코딩
- `.gitignore` — `.tmp_test/`, `.tmp_issues/`, `commit_msg.txt` 추가

---

## 📅 2026-02-23: AI 메모리 체계 통합 (docs/ 디렉토리 구축)

### 핵심 성과
- **단일 진실 소스(Single Source of Truth) 구축**: 14개의 분산된 MD 파일을 `docs/` 디렉토리 5개 파일로 통합.
- **AI 간 메모리 충돌 해결**: Antigravity, Gemini, Cursor 등 어떤 AI 도구를 사용하든 동일한 메모리를 참조하는 구조 확립.
- **토큰 효율화**: `MISSION_CONTROL.md`를 100줄 이내로 유지하여 대화 시작 시 최소 토큰으로 전체 상황 파악 가능.

### 변경 사항
- `docs/MISSION_CONTROL.md` — 프로젝트 현황판 (작업 기억)
- `docs/RULES.md` — 협업 규칙 (헌법)
- `docs/DEV_LOG.md` — 개발 이력 (장기 기억) ← 이 파일
- `docs/ARCHITECTURE.md` — 시스템 아키텍처 상세
- `docs/RUNBOOK.md` — 운영/배포/트러블슈팅 가이드

---

## 📅 2026-02-20: 봇 서비스 안정화 및 UI/UX 대규모 개선

### 핵심 성과
1. **이트랜스 봇 로그인/메뉴 진입 강화**
   - 로그인 직후 안내 팝업(비밀번호 변경, 개인정보 수정, IP 통제) 자동 돌파 로직 추가
   - 메뉴 버튼 클릭 실패 시 직접 URL 점프 기능 추가
   - '컨테이너 번호' 입력 창 탐지 시 즉시 성공으로 판정

2. **데이터 추출 및 영속성**
   - 100건 조회: 자동으로 '100개씩 보기' 선택, 대기 6초
   - 백엔드 파싱: 최대 200개까지 확장
   - 서버 측 `last_search_result.json` 저장으로 새로고침 시 결과 복구

3. **UI/UX 강화**
   - 계정 오류 전용 빨간색 경고 배너
   - 모바일 법령 안내: 모달 → 새 탭 전용 페이지
   - 엑셀 2시트 구조: 시트1(최신, No=1) + 시트2(전체이력), 틀고정+필터+색상서식
   - NAS 도커 `max_drivers`(기본 2) + `ELS_SHOW_BROWSER` 환경변수 지원
   - 이트랜스 계정: 사용자별 개별 → 전체 공유 방식 변경

### 변경 파일
- `elsbot/els_bot.py`, `elsbot/els_web_runner_daemon.py`
- `docker/els-backend/app.py`
- `web/app/employees/container-history/page.js`

---

## 📅 2026-02-19: 실시간 컨테이너 이력 스트리밍

### 핵심 성과
- 백엔드에서 부분 결과를 스트리밍으로 전송
- 프론트엔드에서 데이터 수신 즉시 화면에 표시
- 에러 발생해도 이미 받은 데이터는 자동 저장

---

## 📅 2026-02-13: 사다리 게임 모바일 레이아웃 수정

### 핵심 성과
- 시작/끝점 라인 위에 표시되던 레이어 버그 수정
- 참가자 많을 때 수평 슬라이드 가능하게 (메뉴는 고정)
- 동물 캐릭터 반응 시스템 (당첨: 😭, 통과: 😆)

---

## 📅 2026-02-09: 연락처 모듈 확장 및 인트라넷 메뉴 체계 최적화

### 핵심 성과
- **협력사정보**: 카테고리별 서류 관리 모듈 구축
- **운전원정보**: 프로필 사진, 차량 정보, 서류 10개 첨부
- 메뉴 구조 재편: [시스템] [업무보고] [마케팅/지원] [연락처/서류] [관리]
- 사업자등록번호 유효성 검사, 주민등록번호 마스킹 추가

---

## 📅 이전 기록 (1줄 요약)

| 날짜 | 내용 |
|------|------|
| 2026-02-08 | 인트라넷 레이아웃 최적화: 스크롤 시 헤더 숨김, 티커+사이드바 고정 |
| 2026-02-07 | 안전운임 키보드 네비게이션, 계정 저장 UX 개선, Toast 알림 도입 |
| 2026-02-07 | Vercel SSR 안정화, NaN 방어막, BIOS 로깅+타이머, 서버 부하 90% 절감 |
| 2026-02-06 | CORS 해결, 데이터 구조 통일, 테이블 렌더링 수정, 에러 추적 강화 |
| 2026-02-02 | 안전운임 임시저장 최신순 정렬, 뉴스 수집 다각화(연합/YTN) |
| 2026-01-26 | 사다리 게임 하단 라벨 레이아웃 근본 해결 |
| 2026-01-25 | 이메일 중심 통합 아이덴티티: 소셜 로그인 간 권한 유지 |
| 2026-01-24 | 카카오/네이버 소셜 로그인 추가, 인앱 브라우저 감지 |
| 2026-01-23 | S3(MinIO) 연결 성공, 활동 로그(Audit Log) 시스템 도입 |
| 2026-01-19 | NAS 자료실: ZIP 다운로드, 드래그앤드롭 이동/업로드, Long Press 다중선택 |
